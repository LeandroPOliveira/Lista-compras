#:import hex kivy.utils.get_color_from_hex

<Image>
    source: 'foto.jpg'
    allow_stretch: True
    keep_ratio: False

<MDCard>
    padding: 4
    md_bg_color: "#f4dedc"

<MDIconButton>
    color: 'grey'
    icon_size: '80sp'

<Inicio>:

    FloatLayout:
        size_hint: (1, 1)

        Image:
            source: 'fundo.jpg'

        MDLabel:
            size_hint: 0.8, 0.1
            pos_hint: {'x': 0.1, 'y': 0.35}
            text: 'LISTA DE'
            color: hex('#3b424c')
            bold: True

        MDLabel:
            size_hint: 0.8, 0.1
            pos_hint: {'x': 0.1, 'y': 0.3}
            text: 'COMPRAS'
            font_size: '48'
            color: hex('#1b75fd')
            bold: True

        MDRectangleFlatIconButton:
            size_hint: 0.4, 0.08
            pos_hint: {'x': 0.1, 'y': 0.2}
            icon: "cart-variant"
            text: "Entrar"
            font_size: '20'
            md_bg_color: hex('#1b75fd')
            text_color: "white"
            line_color: hex('#1b75fd')
            theme_icon_color: "Custom"
            icon_color: hex('#ffffff')
            on_press:
                app.root.current = "inicio"

<Principal>:
    name: 'inicio'

    MDBottomNavigation:
        id: navegacao
        #panel_color: "yellow"
        selected_color_background: 0, 0, 1, .4
        text_color_active: "lightgrey"

        MDBottomNavigationItem:
            name: 'screen1'
            text: 'Em exibição'
            icon: 'list-box'


            FloatLayout:
                size_hint: (1, 1)

                Image:

                FloatLayout:
                    size_hint: (1, 1)

                    ScrollView:
                        pos_hint: {'x':.05, 'y':.25}
                        size_hint: .9, .6
                        #size: (self.width, 500)
                        bar_margin: 25
                        bar_width: 5
                        scroll_type: ['bars', 'content']

                        GridLayout:
                            size_hint_y: None
                            height: self.minimum_height
                            row_default_height: 15
                            cols: 1
                            rows: 50
                            bar_width: 50
                            padding: [38, 0, 30, 50]


                            MDList:
                                id: lista

                MDFloatingActionButton:
                    pos_hint: {'x': 0.42, 'y': 0.025}
                    md_bg_color: "yellow"
                    icon: "plus"
                    text_color: "black"

                    on_press:
                        root.novo_item()

        MDBottomNavigationItem:
            name: 'screen2'
            text: 'Minhas listas'
            icon: 'database-plus'
            Image:

            GridLayout:
                cols: 1
                rows: 5
                padding: [100, 150, 100, 150]
                spacing: 10, 20


                MDRectangleFlatButton:
                    text: 'Visualizar listas'
                    halign: 'center'

                MDRectangleFlatButton:
                    text: 'Criar lista'
                    halign: 'center'




        MDBottomNavigationItem:
            name: 'screen3'
            text: 'Pesquisar'
            icon: 'store-search'

            Image:
                source: 'back.jpg'


            ScrollView:

                GridLayout:
                    id: grid_teste
                    size_hint_y: None
                    height: self.minimum_height
                    row_default_height: 150
                    cols: 2
                    rows: 4
                    bar_width: 50
                    padding: [50, 100, 50, 50]
                    spacing: 20, 20


                    MDCard:
                        pos_hint: {'x': 0.1, 'y': 0.5}
                        size_hint: 0.35, 0.3

                        MDRelativeLayout:

                            MDIconButton:
                                icon: "icons/fruit.ico"
                                pos_hint: {"center_x": 0.5, "y": 0.2}
                                on_press:
                                    root.buscar_produtos(self, feira)
                                    app.root.current = "produtos"

                            MDLabel:
                                id: feira
                                text: 'Feira'
                                adaptive_size: True
                                color: "grey"
                                pos_hint: {'center_x': 0.5, 'y': 0.05}
                                bold: True

                    MDCard:
                        pos_hint: {'x': 0.55, 'y': 0.5}
                        size_hint: 0.35, 0.3

                        MDRelativeLayout:

                            MDIconButton:
                                icon: "icons/bread.ico"
                                pos_hint: {"center_x": 0.5, "y": 0.2}
                                on_press:
                                    root.buscar_produtos(self, mercearia)
                                    app.root.current = "produtos"

                            MDLabel:
                                id: mercearia
                                text: 'Mercearia'
                                adaptive_size: True
                                color: "grey"
                                pos_hint: {'center_x': 0.5, 'y': 0.05}
                                bold: True

                    MDCard:
                        pos_hint: {'x': 0.55, 'y': 0.5}
                        size_hint: 0.35, 0.3

                        MDRelativeLayout:

                            MDIconButton:
                                icon: "icons/milk.ico"
                                pos_hint: {"center_x": 0.5, "y": 0.2}
                                on_press:
                                    root.buscar_produtos(self, bebidas)
                                    app.root.current = "produtos"

                            MDLabel:
                                id: bebidas
                                text: 'Bebidas'
                                adaptive_size: True
                                color: "grey"
                                pos_hint: {'center_x': 0.5, 'y': 0.05}
                                bold: True

                    MDCard:
                        pos_hint: {'x': 0.55, 'y': 0.5}
                        size_hint: 0.35, 0.3

                        MDRelativeLayout:

                            MDIconButton:
                                icon: "icons/steak.ico"
                                pos_hint: {"center_x": 0.5, "y": 0.2}
                                on_press:
                                    root.buscar_produtos(self, açougue)
                                    app.root.current = "produtos"

                            MDLabel:
                                id: açougue
                                text: 'Açougue'
                                adaptive_size: True
                                color: "grey"
                                pos_hint: {'center_x': 0.5, 'y': 0.05}
                                bold: True

                    MDCard:
                        pos_hint: {'x': 0.55, 'y': 0.5}
                        size_hint: 0.35, 0.3

                        MDRelativeLayout:

                            MDIconButton:
                                icon: "icons/toiletries.ico"
                                pos_hint: {"center_x": 0.5, "y": 0.2}
                                on_press:
                                    root.buscar_produtos(self, higiene)
                                    app.root.current = "produtos"

                            MDLabel:
                                id: higiene
                                text: 'Higiene'
                                adaptive_size: True
                                color: "grey"
                                pos_hint: {'center_x': 0.5, 'y': 0.05}
                                bold: True

                    MDCard:
                        pos_hint: {'x': 0.55, 'y': 0.5}
                        size_hint: 0.35, 0.3

                        MDRelativeLayout:

                            MDIconButton:
                                icon: "icons/garbage-cleaning.ico"
                                pos_hint: {"center_x": 0.5, "y": 0.2}
                                on_press:
                                    root.buscar_produtos(self, limpeza)
                                    app.root.current = "produtos"


                            MDLabel:
                                id: limpeza
                                text: 'Limpeza'
                                halign: 'center'
                                pos_hint: {'center_x': 0.5, 'y': 0.05}
                                adaptive_size: True
                                color: "grey"
                                bold: True

                    MDCard:
                        pos_hint: {'x': 0.55, 'y': 0.5}
                        size_hint: 0.35, 0.3

                        MDRelativeLayout:

                            MDIconButton:
                                icon: "icons/lamp.ico"
                                pos_hint: {"center_x": 0.5, "y": 0.2}
                                on_press:
                                    root.buscar_produtos(self, utilidades)
                                    app.root.current = "produtos"


                            MDLabel:
                                id: utilidades
                                text: 'Utilidades'
                                adaptive_size: True
                                color: "grey"
                                pos_hint: {'center_x': 0.5, 'y': 0.05}
                                bold: True


<Produtos>:
    name: 'produtos'

    FloatLayout:
        size_hint: (1, 1)

        Image:

        FloatLayout:
            size_hint: (1, 1)

            id: lista_produtos


        MDIconButton:
            icon: 'arrow-left-circle'
            size_hint: 0.05, 0.05
            pos_hint: {'x': 0.1, 'y': 0.9}
            on_press: app.root.current = "inicio"


        MDRectangleFlatButton:
            pos_hint: {'x': 0.35, 'y': 0.025}
            size_hint: 0.3, 0.08
            md_bg_color: "yellow"
            icon: "plus"
            text_color: "black"
            text: 'Adicionar'

            on_press:
                root.adicionar_itens()
                app.root.current = "inicio"


WindowManager:

    Inicio:

    Principal:

    Produtos:
